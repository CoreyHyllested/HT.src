{% extends "sc_header.html" %}
{% set title = 'Sign Up for Soulcrafting' %}

{% block header_css %}
	{{ super() }}
	{% assets 'scss_loginsys' %} <link rel='stylesheet' href='{{ASSET_URL}}'> {% endassets %}
{% endblock %}


{% block content %}
<section id='authorize'>
	<h2 class="text-center">Soulcrafting for Professionals </h2>

	<div id='authorize-form'>
		<form action="/professional" method="POST" class="signup-form">
			{{form.hidden_tag()}}

			<div class="form-group address">
				<label class='sr-only' for='pro_addr'>Business Address</label>
				{{form.pro_addr(type="address", class="form-control login-addr", Placeholder="Business Address")}}
			</div>

			<div class="form-group phone">
				<label class='sr-only' for='pro_phone'>Business Phone</label>
				{{form.pro_phone(type="email", class="form-control login-phone", Placeholder="Business Phone")}}
			</div>

			<div class="form-group email">
				<label class='sr-only' for='pro_email'>Business Email</label>
				{{form.pro_email(type="email", class="form-control login-email", Placeholder="Business Email")}}
			</div>

			<hr>
			<div class="form-group username">
				<label class='sr-only' for='uname'>Your Name</label>
				{{form.uname(type="name", class="form-control login-uname", Placeholder="Your name")}}
			</div>

			<div class="form-group password">
				<label class='sr-only' for='passw'>Your Password</label>
				{{form.passw(type="password", class="form-control login-password", Placeholder="Your password")}}
			</div>
			<button type="submit" class="btn btn-block blueButton">Sign Up as Professional</button>
		</form>
		<p><a href='/login'><button class='btn btn-block whiteButton'>I have an account</button></a></p>
	</div>
</section>
{% endblock %}

<script src="/static/js/jquery.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
{% block scripts %}
	{{ super() }}
	{% if sc_alert %}<script>openAlertWindow('{{sc_alert}}')</script>{% endif %}

<script>
	$(document).ready(function() {
		$(".form-control").blur(function (e) {
			$(this).removeClass('attention');
		});

		$('.btn-signup').click(function(e) {
			var errors = 0;
			var uname = document.forms["signup-form"]["uname"];
			var email = document.forms["signup-form"]["email"];
			var passw = document.forms["signup-form"]["passw"];

			if (uname.value == '') {	$(uname).addClass('attention');	errors++;	}
			if (email.value == '') {	$(email).addClass('attention');	errors++;	}
			if (passw.value == '') {	$(passw).addClass('attention');	errors++;	}
			if (errors) {
				console.log('Had ' + errors + ' errors');
				return false;
			}
			return true;
		});
	});
</script>
{% endblock %}
